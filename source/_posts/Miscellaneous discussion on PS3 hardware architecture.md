---
title: '【杂谈】PS3的硬件架构（Cell及RSX部分）'

categories:
 - ACGN推荐
tags:
 - 万事屋
 - 杂谈

date: 2025/11/08 14:39:00
---

米娜桑，这里是万事屋的腐化，作为一个游戏爱好者，说到PS3想必大家都不陌生，那么今天我们从硬件设计的角度聊聊PS3这个PlayStation系列最特殊的游戏机

## 一切的开端

既然谈到playstation的硬件架构不得不提一个人，那就是**久多良木健**，从ps到ps3的主体架构都是由他主导设计，可以说他是当之无愧的“**PlayStation之父**”，ps2在2000年发布后大获成功，索尼为了进行生态的延续以及继续深入打造“家庭娱乐中心”这一概念，开始着手ps3的开发，不出意料，这次的设计还是由久多良木健负责，他对自主设计近乎偏执，这一点直接催生了Cell这颗游戏机历史上最为特殊的处理器，于是乎2000年年中，索尼电脑娱乐，东芝公司和IBM结成一个被称为“STI”的联盟，用以设计和制造的处理器

![](/images/PS3/Kutaragi_Ken.png)
*正在骄傲展示ps3的久多良木健.png*

在当时由IBM主导研发的Cell处理器拥有强大的性能表现，IBM和索尼双方宣称，Cell的运算能力将达到史无前例的**1TeraFLOPS**，以至于外界的第一反应就是，索尼和IBM是在虚张声势

![](/images/PS3/CELL_BE_processor_PS3_board.jpg)
*Cell处理器，简称Cell/B.E.或CBEA*

实际上也是吹牛，因为理论上ps3的Cell处理器应该搭载**4个PPE核**，每个PPE核应该配合**8个SPE核**，以此来实现1TeraFLOPS，结果因为量产版Cell的良品率、功耗以及成本问题不得不最终采用**1个PPE+8个SPE**的配置（实际可用SPE为6个，第七个SPE核分配给了操作系统和安全方面，而第八个则是被屏蔽作为备用核心），主频降至3.2GHz

![](/images/PS3/Peter_Hofstee.jpg)
*Peter Hofstee，Cell处理器的主要架构设计师之一*
![](/images/PS3/cell.png)
*划线的“SPE”表示禁用（不可用），左边的另一个“SPE”保留给操作系统使用*

这颗Cell处理器采用**异构多核架构**，集成1个PowerPC处理单元（PPE）和8个协同处理单元（SPE），PPE核采用RISC精简指令集，Power架构，64位双线程，主频3.2Ghz，配有512KB的L2缓存，而SPE核则包含1个向量处理单元（SPU），一个大小为256k的本地存储，1组128个寄存器，每个128位宽

![](/images/PS3/ppe.png)
*PowerPC处理元件 (PPE) 简化图*
![](/images/PS3/spe.png)
*协同处理器元件（SPE）简图，Cell内有八个这样的元件（其中一个已禁用）*
![](/images/PS3/cell_Dieshot.gif)
*Cell的Dieshot图，可以直观看到各个功能区域*

## 关于Cell的8个SPE核心

Cell的8个SPE核并不能处理常规的操作系统任务，因为**它缺少一般处理器的特性**，不能够直接访问到主机的RAM，正如它的名字一样，在早期只能通过PPE核来调度协助cpu运算，PPE上的程序可以将任务分解到 SPE核上完成，将SPE、PPE 和主存控制器连接在一起的是一个名为Element Interconnect Bus（EIB）的总线，这是数据传输的主要通道。理论上来说1个PPE配合8个SPE性能不小，但是因为所有的SPE核心都要通过PPE核来管理，而PPE核心只有一个，间接拖累了SPE核的运行效率，这也算是Cell架构的缺点

![](/images/PS3/eib.png)
*EIB总线的简化图*

SPU一共有三种开发模式

**SPU 线程（SPU Thread）**

![](/images/PS3/multistage.png)

由操作系统去管理开发者创建的SPU线程。这种模式下，PPU需要进行复杂繁琐的SPU线程管理，出于显而易见的原因，IBM不建议将这种设计用于主要任务，因为它需要相当大的带宽，而且往往难以维护

为了增加SPU的效率，解决第一种开发模式的问题，IBM对开发者提供了另外两个开发模式

**协同处理器运行时系统（SPURS）**

![](/images/PS3/spe_centric.png)

让SPU自己管理SPU线程，最小化PPU消耗，相比于第一种效率会更高，这种模式也是索尼主推的，但开发难度比第一种高

**SPU核心的写后读数据依赖（SPU RAW）**

如果要发挥Cell潜能，就需要这个模式，开发者可以绕过操作系统，API，直接对SPU进行操作，效率最高，但是最难开发和优化，需要对硬件了如指掌，其中只有四个SPU支持这个模式，第三方厂商一般不会使用，只有索尼第一方工作室用的来

当然Cell架构更大的问题在于开发难度，如果开发得当SPU的效果非常强大，SPE核的向量处理单元可以用于音频、物理效果、粒子效果处理以及辅助英伟达的RSXGPU进行几何运算，甚至可以实现后处理特效，例如曲面细分、形态抗锯齿、延迟渲染、环境光遮蔽、体积光等等，这在当时算是极大技术突破，相比于Xbox 360依赖于硬件实现，SPE的软件实现明显要更加的灵活和利好游戏开发者，这一点对比同时期的游戏上，ps3游戏细节上比xbox 360更加细腻可以看出来

![](/images/PS3/uncharted3.png)

## 关于GPU部分

PS3包含一个由英伟达制造的GPU芯片，该芯片名为现实合成器（RSX），基于NV47核心，据说是由G70与G72修改而来，算是减配版7800GTX，RSX拥有256 MB专用GDDR3 SDRAM，显存运行在650Mhz下，运行频率为500 MHz

看看隔壁的Xbox360，ATI给的Xenos，有3个着色器矩阵，每个矩阵有16个5D向量的SIMD单元

这波操作也导致了部分玩家认为老黄在主机上比较坑
![](/images/PS3/Jen-hsun_Huang.jpg)

即使SPU核心强大，但仍然需要一个GPU来负责输出，所以说SPU可以算是另一种形式的GPU，256k的本地存储也可以说是显存

## 最后

ps3将Cell处理器和蓝光光驱结合作为“次世代娱乐中心”，可谓具有技术前瞻性与商业实用性，可惜好景不长，由于硬件价格的高昂，加上久多良木健坚持将蓝光光驱绑定ps3，复杂的架构劝退开发者，以及错失市场窗口期（玩家被同时期的Xbox 360和Wii抢占），导致playstation在游戏机市场退下高峰，让xbox巩固了在欧美玩家群体的地位，久多良木健也因此从索尼辞职

![](/images/PS3/ps3.png)

即便如此，尽管ps3从战略上来讲是失败的，但它留下技术遗产和理念仍难影响了后世，Cell处理器可以说是游戏硬件史上一次大胆的技术实验，首次将超级计算机的并行计算理念引入消费级设备，为后续GPU加速、异构计算（如AMD的APU）提供了借鉴，其设计思想在PS4的AMD Jaguar架构中仍有体现——通过CPU与GPU的协同计算实现高效资源分配

> 参考资料来自：
> 
> https://www.copetti.org/zh-hans/writings/consoles/playstation-3/
> https://zh.wikipedia.org/wiki/PlayStation_3
> https://zh.wikipedia.org/wiki/Cell_(%E5%BE%AE%E8%99%95%E7%90%86%E5%99%A8)